{
  "version": 3,
  "sources": ["../../src/utils/storage.ts", "../../src/utils/strings.ts", "../../src/utils/time.ts", "../../src/background.ts"],
  "sourcesContent": ["import { Storage } from './types';\n\ntype Dict = Partial<Storage>;\n\nexport const setValue = (value: Dict): Promise<undefined> => {\n\treturn new Promise((resolve) => {\n\t\tchrome.storage.local.set(value, () => resolve(undefined));\n\t});\n};\n\nexport type StorageFields = keyof Storage;\n\n// export const getValue = (keys: string | string[] | Dict | null): Promise<Dict> => {\nexport const getValue = (\n\tkeys: StorageFields | StorageFields[] | null\n): Promise<Dict> => {\n\treturn new Promise((resolve) => {\n\t\tchrome.storage.local.get(keys, (items) => resolve(items as Dict));\n\t});\n};\n\nexport const removeKeys = (\n\tkeys: StorageFields | StorageFields[]\n): Promise<undefined> => {\n\treturn new Promise((resolve) => {\n\t\tchrome.storage.local.remove(keys, () => resolve(undefined));\n\t});\n};\n", "export const shortenString = (str: string, startCount = 8, endCount = 5) =>\n\tstr.slice(0, startCount) + '...' + str.slice(-endCount);\nexport const shortenAddress = (address: string) => shortenString(address, 8, 5);\nexport const shortenHash = (hash: string) => shortenString(hash, 5, 5);\nexport const shortenTti = (hash: string) => shortenString(hash, 7, 5);\n\n// https://www.30secondsofcode.org/js/s/copy-to-clipboard-async?from=autocomplete\nexport const copyToClipboardAsync = (str = '') => {\n\tif (navigator && navigator.clipboard && navigator.clipboard.writeText)\n\t\treturn navigator.clipboard.writeText(str);\n\treturn window.alert('The Clipboard API is not available.');\n};\n\nexport const toBiggestUnit = (num: string, decimals = 0) => {\n\t// Assume num is a unsigned integer (i.e. positive with no decimals) and decimals is > 0\n\tnum = `${num.substring(0, num.length - decimals) || 0}.${'0'.repeat(\n\t\tMath.max(0, decimals - num.length)\n\t)}${num.substring(Math.max(0, num.length - decimals))}`;\n\treturn num.replace(/(0+|\\.0+|\\.)$/, '');\n};\n\nexport const toSmallestUnit = (num: string, decimals = 0) => {\n\t// Assume num is a positive number and decimals is > 0\n\tconst indexOfDot = num.indexOf('.');\n\tif (indexOfDot === -1) {\n\t\treturn num + '0'.repeat(decimals);\n\t}\n\tconst decimalPlaces = num.length - indexOfDot - 1;\n\treturn (num.substring(indexOfDot + 1) + '0'.repeat(decimals - decimalPlaces)).replace(/^0+/g, '');\n};\n\nexport const roundDownTo6Decimals = (balance: string) =>\n\tMath.floor(+balance * 1000000) / 1000000 + '';\n\n// These don't check for what comes after the protocol\nexport const validateWsUrl = (v = '') => /^(ws:\\/\\/|wss:\\/\\/)/.test(v);\nexport const validateHttpUrl = (v = '') => /^(http:\\/\\/|https:\\/\\/)/.test(v);\n\n// https://howchoo.com/javascript/how-to-turn-an-object-into-query-string-parameters-in-javascript\nexport const toQueryString = (params: { [key: string]: any }) =>\n\t'?' +\n\tObject.keys(params)\n\t\t.filter((key) => !!params[key])\n\t\t.map((key) => encodeURIComponent(key) + '=' + encodeURIComponent(params[key]))\n\t\t.join('&');\n\nexport const getHostname = (url = '') => {\n\tif (!url.startsWith('http')) {\n\t\treturn '';\n\t}\n\treturn new URL(url).hostname;\n};\n\nexport const parseQueryString = (urlSearchParams: string): { [key: string]: string } => {\n\tif (urlSearchParams[0] !== '?') {\n\t\tthrow new Error('urlSearchParams must start with \"?\"');\n\t}\n\tconst split = urlSearchParams.slice(1).split('&');\n\treturn split\n\t\t.map((p) => p.split('='))\n\t\t.reduce((obj, pair) => {\n\t\t\tconst [key, value] = pair.map(decodeURIComponent);\n\t\t\tif (key) {\n\t\t\t\treturn { ...obj, [key]: value };\n\t\t\t}\n\t\t\treturn obj;\n\t\t}, {});\n};\n\nexport const addIndexToTokenSymbol = (symbol: string, index: null | number) => {\n\tif (symbol === 'VITE' || symbol === 'VX' || symbol === 'VCP' || index == null) {\n\t\treturn symbol;\n\t}\n\treturn `${symbol}-${('' + index).padStart(3, '0')}`;\n};\n\n// https://stackoverflow.com/a/4149393/4975090\n// export const reverseCamelCase = (str = '') =>\n// \tstr.replace(/([A-Z])/g, ' $1').replace(/^./, (str) => {\n// \t\treturn str.toUpperCase();\n// \t});\n\nexport const makeReadable = (err: any) =>\n\terr.toString() === '[object Object]' ? JSON.stringify(err) : err.toString();\n\nexport const joinWords = (arr: string[], conjunction = 'or') => {\n\tconst listStart = arr.slice(0, -1).join(', ');\n\tconst listEnd = arr.slice(-1);\n\treturn [listStart, listEnd].join(\n\t\tarr.length <= 1 ? '' : arr.length > 2 ? `, ${conjunction} ` : ` ${conjunction} `\n\t);\n};\n\n// This is to avoid custom event naming collisions\nexport const prefixName = (str: string) => 'vitePassport' + str[0].toUpperCase() + str.substring(1);\n", "export const SECOND = 1000;\nexport const MINUTE = 60 * SECOND;\nexport const HOUR = 60 * MINUTE;\nexport const DAY = 24 * HOUR;\nexport const WEEK = 7 * DAY;\n\nconst MONTHS = [\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December',\n];\n\nexport const formatDate = (\n\tdate: number | Date,\n\tverbose?: boolean,\n\tutc?: boolean\n) => {\n\tif (!date) {\n\t\treturn;\n\t}\n\tif (typeof date === 'number') {\n\t\tdate *= 1000; // NOTE: Not sure if this project will every have timestamps in ms. For now this function assumes number dates are in seconds.\n\t}\n\tdate = new Date(date);\n\tconst year = date[`get${utc ? 'UTC' : ''}FullYear`]();\n\tconst month = date[`get${utc ? 'UTC' : ''}Month`]();\n\tconst day = date[`get${utc ? 'UTC' : ''}Date`]();\n\tconst hour = date[`get${utc ? 'UTC' : ''}Hours`]();\n\tconst minute = date[`get${utc ? 'UTC' : ''}Minutes`]();\n\tconst second = date[`get${utc ? 'UTC' : ''}Seconds`]();\n\n\tif (verbose) {\n\t\tconst minute = date.getMinutes();\n\t\t// \u00B7 middle dot shift+option+9\n\t\t// \u2022 bullet option+8\n\t\treturn `${year} ${MONTHS[month]} ${day} \u00B7 ${date.getHours()}:${\n\t\t\tminute < 10 ? `0${minute}` : minute\n\t\t}`;\n\t}\n\treturn `${year}-${month + 1}-${day} ${hour}:${minute}:${second}`;\n};\n", "import { VitePassportMethodCall, BackgroundResponse } from './injectedScript';\nimport { getValue } from './utils/storage';\nimport { getHostname, toQueryString } from './utils/strings';\nimport { MINUTE } from './utils/time';\nimport { PortMessage, Secrets } from './utils/types';\n\n// console.log('background');\n\nlet secrets: Secrets | undefined;\nlet lockTimer: NodeJS.Timeout | undefined;\n\n// Have to make a replacement for `dispatch(Custom Event(...))` and `addEventListener` cuz\n// https://stackoverflow.com/questions/41266567/service-worker-warning-in-google-chrome\nlet eventListeners: { [event: string]: ((data?: any) => void)[] } = {};\nconst pushEventListener = (event: string, listener: (data?: object) => void) => {\n\tif (!Array.isArray(eventListeners[event])) {\n\t\teventListeners[event] = [];\n\t}\n\teventListeners[event].push(listener);\n};\nconst runAndClearEventListener = (event: string, data?: object) => {\n\t(eventListeners[event] || []).forEach((listener) => listener(data));\n\tdelete eventListeners[event];\n};\nconst clearEventListeners = () => {\n\teventListeners = {};\n};\n\n// Below are messages from within the extension\nchrome.runtime.onConnect.addListener((chromePort) => {\n\tchromePort.postMessage({ secrets, type: 'opening' } as PortMessage);\n\tchromePort.onMessage.addListener((message: PortMessage) => {\n\t\tswitch (message.type) {\n\t\t\tcase 'reopen':\n\t\t\t\tif (lockTimer) {\n\t\t\t\t\tclearTimeout(lockTimer);\n\t\t\t\t\tlockTimer = undefined;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'updateSecrets':\n\t\t\t\tsecrets = message.secrets;\n\t\t\t\tbreak;\n\t\t\tcase 'connectDomain':\n\t\t\t\t// message.domain isn't used for anything rn, but it may come in handy later\n\t\t\t\trunAndClearEventListener('vitePassportConnectDomain', { domain: message.domain });\n\t\t\t\tbreak;\n\t\t\tcase 'writeAccountBlock':\n\t\t\t\t// message.domain isn't used for anything rn, but it may come in handy later\n\t\t\t\trunAndClearEventListener('vitePassportWriteAccountBlock', { block: message.block });\n\t\t\t\tbreak;\n\t\t\tcase 'lock':\n\t\t\t\tsecrets = undefined;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\t// https://stackoverflow.com/a/39732154/13442719\n\tchromePort.onDisconnect.addListener(async () => {\n\t\tif (secrets) {\n\t\t\tif (lockTimer) {\n\t\t\t\tclearTimeout(lockTimer);\n\t\t\t}\n\t\t\tlockTimer = setTimeout(() => {\n\t\t\t\tsecrets = undefined;\n\t\t\t}, 30 * MINUTE); // TODO: make this time adjustable\n\t\t}\n\t\trunAndClearEventListener('vitePassportChromePortDisconnect');\n\t});\n});\n\n// Below are messages from the injected vitePassport object\nchrome.runtime.onMessage.addListener(\n\t(\n\t\tmessage: VitePassportMethodCall,\n\t\tsender,\n\t\treply: (res: Omit<BackgroundResponse, '_messageId'>) => void\n\t) => {\n\t\t// console.log('message:', message);\n\t\tconst replyOnEvent = (event: string, cb: (data?: object) => any) => {\n\t\t\tconst connectListener = (data?: object) => {\n\t\t\t\treply(cb(data));\n\t\t\t\tclearEventListeners();\n\t\t\t};\n\t\t\tconst disconnectListener = () => {\n\t\t\t\treply({ error: 'Vite Passport closed before user approved domain' });\n\t\t\t\tclearEventListeners();\n\t\t\t};\n\t\t\tpushEventListener(event, connectListener);\n\t\t\tpushEventListener('vitePassportChromePortDisconnect', disconnectListener);\n\t\t};\n\t\t(async () => {\n\t\t\tif ((await getFocusedTabId()) !== sender.tab?.id) {\n\t\t\t\tthrow new Error('sender.tab?.id does not match focused tab Id');\n\t\t\t}\n\t\t\tif (!sender.origin) {\n\t\t\t\tthrow new Error('sender.origin does not exist');\n\t\t\t}\n\t\t\t// The above ensures that only the focused tab can send messages to Vite Passport\n\t\t\tconst hostname = getHostname(sender.origin);\n\t\t\tconst { connectedDomains } = await getValue('connectedDomains');\n\t\t\tconst domainConnected = !!connectedDomains?.[hostname];\n\n\t\t\t// Calling `reply` responds back to contentScript.ts\n\t\t\tconst connectError = () => {\n\t\t\t\treply({\n\t\t\t\t\terror: 'Wallet must connect via `vitePassport.connectWallet()` first',\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tswitch (message.method) {\n\t\t\t\tcase 'getConnectedAddress':\n\t\t\t\t\tif (!domainConnected) {\n\t\t\t\t\t\treturn reply({ result: undefined });\n\t\t\t\t\t}\n\t\t\t\t\tconst { accountList, activeAccountIndex } = await getValue([\n\t\t\t\t\t\t'accountList',\n\t\t\t\t\t\t'activeAccountIndex',\n\t\t\t\t\t]);\n\t\t\t\t\treply({ result: accountList![activeAccountIndex!].address });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'connectWallet':\n\t\t\t\t\topenPopup('/connect' + toQueryString({ hostname }));\n\t\t\t\t\treplyOnEvent('vitePassportConnectDomain', () => ({ result: true }));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'getNetwork':\n\t\t\t\t\tif (!domainConnected) return connectError();\n\t\t\t\t\tconst { networkList, activeNetworkIndex } = await getValue([\n\t\t\t\t\t\t'networkList',\n\t\t\t\t\t\t'activeNetworkIndex',\n\t\t\t\t\t]);\n\t\t\t\t\tconst networkUrl = networkList![activeNetworkIndex!].rpcUrl;\n\t\t\t\t\treply({ result: networkUrl });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'writeAccountBlock':\n\t\t\t\t\tif (!domainConnected) return connectError();\n\t\t\t\t\topenPopup(\n\t\t\t\t\t\t'/sign-tx' +\n\t\t\t\t\t\t\ttoQueryString({\n\t\t\t\t\t\t\t\tmethodName: message.args[0],\n\t\t\t\t\t\t\t\tparams: JSON.stringify(message.args[1]),\n\t\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\treplyOnEvent('vitePassportWriteAccountBlock', (data: any) => {\n\t\t\t\t\t\tconsole.log('data:', data);\n\t\t\t\t\t\treturn { result: data.block };\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t})();\n\n\t\t// https://stackoverflow.com/questions/44056271/chrome-runtime-onmessage-response-with-async-await\n\t\t// must return true to indicate asynchronous response otherwise you get this error:\n\t\t// \"Unchecked runtime.lastError: The message port closed before a response was received.\"\n\t\treturn true;\n\t}\n);\n\nconst host = chrome.runtime.getURL('src/confirmation.html');\nconst openPopup = async (routeAfterUnlock: string) => {\n\t// routeAfterUnlock is specified in the params cuz frontend routing doesn't work here (popup window would look for a file under host+routeAfterUnlock)\n\tconst lastFocused = await chrome.windows.getCurrent();\n\t// const {id} = await chrome.windows.create({\n\t// OPTIMIZE: if a previous window is open, focus that instead of opening a new window\n\n\tchrome.windows.create({\n\t\turl: host + toQueryString({ routeAfterUnlock }),\n\t\ttype: 'popup',\n\t\twidth: (9 / 16) * 35 * 16, // w-[calc(9/16*35rem)\n\t\theight: 35 * 16 + 22, // h-[35rem] + frame header height (22px on macOS?)\n\t\ttop: lastFocused.top,\n\t\tleft: lastFocused.left! + (lastFocused.width! - 18 * 16),\n\t});\n\t// console.log('id:', id);\n};\n\nconst getFocusedTabId = () => {\n\treturn new Promise((resolve) => {\n\t\tchrome.tabs.query({ currentWindow: true, active: true }, ([tab]) => resolve(tab.id));\n\t});\n};\n"],
  "mappings": "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",
  "names": []
}
